# SECURITY.md - Best Practices Ð´Ð»Ñ PyTaskHub

## ÐžÐ³Ð»Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ
1. [Ð¡ÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ðµ ÐºÐ»ÑŽÑ‡Ð¸ Ð¸ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ](#ÑÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ðµ-ÐºÐ»ÑŽÑ‡Ð¸)
2. [Ð§Ñ‚Ð¾ ÐÐ• Ð¿ÑƒÑˆÐ¸Ñ‚ÑŒ Ð² Git](#Ñ‡Ñ‚Ð¾-Ð½Ðµ-Ð¿ÑƒÑˆÐ¸Ñ‚ÑŒ)
3. [Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°](#Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ-Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°)
4. [Production Ð´ÐµÐ¿Ð»Ð¾Ð¹](#production-Ð´ÐµÐ¿Ð»Ð¾Ð¹)
5. [Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑÐ¼Ð¸ Ð‘Ð”](#Ð¿Ð°Ñ€Ð¾Ð»Ð¸-Ð±Ð´)
6. [JWT Ñ‚Ð¾ÐºÐµÐ½Ñ‹](#jwt-Ñ‚Ð¾ÐºÐµÐ½Ñ‹)
7. [Ð§Ñ‚Ð¾ Ð´ÐµÐ»Ð°Ñ‚ÑŒ ÐµÑÐ»Ð¸ ÑÐµÐºÑ€ÐµÑ‚ ÑƒÑ‚Ñ‘Ðº](#ÐµÑÐ»Ð¸-ÑÐµÐºÑ€ÐµÑ‚-ÑƒÑ‚Ñ‘Ðº)

---

##  Ð¡ÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ðµ ÐºÐ»ÑŽÑ‡Ð¸

### Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ SECRET_KEY

**Ð”Ð»Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸** (ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº):

```bash
# Ð’ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ
python -c "import secrets; print(secrets.token_urlsafe(32))"

# Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ (Ð¿Ñ€Ð¸Ð¼ÐµÑ€):
# vQx7mK9pL2nR8sT4wY6zB1cD3eF5gH7j
```

**Ð’ÑÑ‚Ð°Ð²ÑŒ Ð² ÑÐ²Ð¾Ð¹ `.env`:**
```bash
SECRET_KEY=vQx7mK9pL2nR8sT4wY6zB1cD3eF5gH7j
```

### Ð’ÐÐ–ÐÐž: Ð Ð°Ð·Ð½Ñ‹Ðµ ÐºÐ»ÑŽÑ‡Ð¸ Ñƒ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð² - ÑÑ‚Ð¾ ÐÐžÐ ÐœÐ!

**ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ñƒ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑÐ²Ð¾Ð¹ ÐºÐ»ÑŽÑ‡:**
-  Ð˜Ð·Ð¾Ð»ÑÑ†Ð¸Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ñ… ÑÑ€ÐµÐ´
-  Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ (ÑƒÑ‚ÐµÑ‡ÐºÐ° Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð½Ðµ Ð·Ð°Ñ‚Ñ€Ð¾Ð½ÐµÑ‚ Ð´Ñ€ÑƒÐ³Ð¸Ñ…)
-  ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÑÐ¾ ÑÐ²Ð¾Ð¸Ð¼Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸
-  Production ÐºÐ»ÑŽÑ‡ Ð¾ÑÑ‚Ð°Ñ‘Ñ‚ÑÑ Ð² ÑÐµÐºÑ€ÐµÑ‚Ðµ

**Ð­Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð°?**
-  ÐÐ•Ð¢! Ð­Ñ‚Ð¾ feature, Ð½Ðµ bug
- Ð¢Ð¾ÐºÐµÐ½Ñ‹ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐ°Ð½Ð½Ñ‹Ðµ ÐºÐ»ÑŽÑ‡Ð¾Ð¼ ÐÑ€Ñ‚ÑƒÑ€Ð° Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ñƒ Ð¡ÐµÑ€Ð³ÐµÑ
- ÐÐ¾ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ ÑÐ¾ ÑÐ²Ð¾ÐµÐ¹ Ð‘Ð”
- ÐÐ° production Ð±ÑƒÐ´ÐµÑ‚ ÐµÐ´Ð¸Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ Ð´Ð»Ñ Ð²ÑÐµÑ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹

---

##  Ð§Ð¢Ðž ÐÐ• ÐŸÐ£Ð¨Ð˜Ð¢Ð¬ Ð’ GIT

### ÐÐ˜ÐšÐžÐ“Ð”Ð Ð½Ðµ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ÑŒÑ‚Ðµ:

```bash
 .env                    # Ð ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐµÐºÑ€ÐµÑ‚Ñ‹
 .env.local              # Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ
 .env.production         # Production ÐºÐ¾Ð½Ñ„Ð¸Ð³
 *.pem                   # SSH ÐºÐ»ÑŽÑ‡Ð¸
 *.key                   # ÐŸÑ€Ð¸Ð²Ð°Ñ‚Ð½Ñ‹Ðµ ÐºÐ»ÑŽÑ‡Ð¸
 credentials.json        # API ÐºÐ»ÑŽÑ‡Ð¸
 database.sqlite         # Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð‘Ð” Ñ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸
 node_modules/           # Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
 __pycache__/            # Python cache
```

###  Ð’Ð¡Ð•Ð“Ð”Ð ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚ÑŒÑ‚Ðµ:

```bash
 .env.example            # Ð¨Ð°Ð±Ð»Ð¾Ð½ Ð±ÐµÐ· ÑÐµÐºÑ€ÐµÑ‚Ð¾Ð²
 .gitignore              # Ð—Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð°
 requirements.txt        # Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
 README.md               # Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
 SECURITY.md             # Ð­Ñ‚Ð¾Ñ‚ Ñ„Ð°Ð¹Ð»
```

---

##  Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°

### ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ (Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ñ€Ð°Ð·)

```bash
# 1. ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
git clone https://github.com/PyTaskHub/todo-app-backend.git
cd todo-app-backend

# 2. Ð¡Ð¾Ð·Ð´Ð°Ð¹ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# Ð¸Ð»Ð¸
venv\Scripts\activate     # Windows

# 3. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
pip install -r requirements.txt

# 4. Ð¡Ð¾Ð·Ð´Ð°Ð¹ .env Ð¸Ð· ÑˆÐ°Ð±Ð»Ð¾Ð½Ð°
cp .env.example .env

# 5. Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐ¹ Ð¡Ð’ÐžÐ™ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ SECRET_KEY
python -c "import secrets; print(secrets.token_urlsafe(32))"

# 6. ÐžÑ‚ÐºÑ€Ð¾Ð¹ .env Ð¸ Ð²ÑÑ‚Ð°Ð²ÑŒ ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡
# nano .env  Ð¸Ð»Ð¸  code .env
```

**Ð¢Ð²Ð¾Ð¹ `.env` Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð²Ñ‹Ð³Ð»ÑÐ´ÐµÑ‚ÑŒ Ñ‚Ð°Ðº:**

```bash
APP_NAME=PyTaskHub
APP_VERSION=1.0.0
DEBUG=True
ENVIRONMENT=development

HOST=0.0.0.0
PORT=8000

DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/pytaskhub

SECRET_KEY=Ñ‚Ð²Ð¾Ð¹-ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹-ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹-ÐºÐ»ÑŽÑ‡-Ð·Ð´ÐµÑÑŒ
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:8000

LOG_LEVEL=INFO
```

###  Ð’ÐÐ–ÐÐž:

- Ð¤Ð°Ð¹Ð» `.env` **ÐÐ˜ÐšÐžÐ“Ð”Ð** Ð½Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ÑÑ Ð² Git
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ: `git status` Ð½Ðµ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ `.env`
- Ð•ÑÐ»Ð¸ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ - Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ `.gitignore` Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾

---

##  Production Ð´ÐµÐ¿Ð»Ð¾Ð¹

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)

ÐÐ° production ÑÐµÑ€Ð²ÐµÑ€Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ:

```bash
# Ð§ÐµÑ€ÐµÐ· systemd service file
# /etc/systemd/system/pytaskhub.service

[Service]
Environment="SECRET_KEY=production-super-secret-key-xyz..."
Environment="DATABASE_URL=postgresql+asyncpg://user:pass@prod-db:5432/pytaskhub"
Environment="DEBUG=False"
Environment="ENVIRONMENT=production"
Environment="BACKEND_CORS_ORIGINS=https://pytaskhub.com"
```

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: Docker Compose + env Ñ„Ð°Ð¹Ð» Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

```yaml
# docker-compose.yml
services:
  backend:
    env_file:
      - .env.production  # Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ, ÐÐ• Ð² Git!
```

ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ ÑÐ¾Ð·Ð´Ð°Ð¹ `.env.production`:

```bash
# ÐÐ° production ÑÐµÑ€Ð²ÐµÑ€Ðµ (ÐÐ• Ð² Git!)
cat > .env.production << EOF
APP_NAME=PyTaskHub
DEBUG=False
ENVIRONMENT=production
SECRET_KEY=$(python3 -c "import secrets; print(secrets.token_urlsafe(32))")
DATABASE_URL=postgresql+asyncpg://prod_user:prod_pass@db:5432/pytaskhub_prod
BACKEND_CORS_ORIGINS=https://pytaskhub.com,https://app.pytaskhub.com
EOF

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð°Ð²Ð°
chmod 600 .env.production
```

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 3: Secrets Management (Ð´Ð»Ñ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ñ… Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²)

Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ ÑÐµÑ€Ð²Ð¸ÑÑ‹:

- **AWS Secrets Manager**
- **HashiCorp Vault**
- **Google Secret Manager**
- **Azure Key Vault**
- **Docker Secrets**

ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ñ Docker Swarm:

```yaml
# docker-compose.yml
services:
  backend:
    secrets:
      - db_password
      - secret_key

secrets:
  db_password:
    external: true
  secret_key:
    external: true
```

```bash
# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐµÐºÑ€ÐµÑ‚Ð¾Ð²
echo "super-secret-key" | docker secret create secret_key -
echo "db-password" | docker secret create db_password -
```

---

## ÐŸÐ°Ñ€Ð¾Ð»Ð¸ Ð‘Ð”

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°

**Ð”Ð»Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð‘Ð”** Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ð¸:

```bash
# Ð’ .env (Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾)
DB_USER=postgres
DB_PASSWORD=postgres
```

**Ð­Ñ‚Ð¾ OK Ð´Ð»Ñ Ð»Ð¾ÐºÐ°Ð»ÐºÐ¸ Ð¿Ð¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾:**
- Ð‘Ð” Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð½Ð° localhost
- ÐÐµÑ‚ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
- Ð£Ð´Ð¾Ð±Ð½Ð¾ Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸

### Production

**Ð”Ð»Ñ production** ÐžÐ‘Ð¯Ð—ÐÐ¢Ð•Ð›Ð¬ÐÐž Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ ÑÐ¸Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ð¸:

```bash
# Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ ÑÐ¸Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ð°Ñ€Ð¾Ð»Ñ
python -c "import secrets, string; print(''.join(secrets.choice(string.ascii_letters + string.digits + string.punctuation) for i in range(32)))"

# Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ (Ð¿Ñ€Ð¸Ð¼ÐµÑ€):
# K7@mP#9xL2$nR8!tW4&zB1%cD3^eF5*g
```

**Ð’ production `.env`:**
```bash
DB_PASSWORD=K7@mP#9xL2$nR8!tW4&zB1%cD3^eF5*g
```

---

## JWT Ñ‚Ð¾ÐºÐµÐ½Ñ‹

### ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ JWT Ð² Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ

1. **ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð»Ð¾Ð³Ð¸Ð½Ð¸Ñ‚ÑÑ** â†’ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ JWT Ñ‚Ð¾ÐºÐµÐ½
2. **Ð¢Ð¾ÐºÐµÐ½ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐ°Ð½ SECRET_KEY** â†’ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐµÑ€Ð²ÐµÑ€ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ
3. **Ð¢Ð¾ÐºÐµÐ½ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ÑÑ Ð² ÐºÐ°Ð¶Ð´Ð¾Ð¼ Ð·Ð°Ð¿Ñ€Ð¾ÑÐµ** â†’ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ

### Ð’Ñ€ÐµÐ¼Ñ Ð¶Ð¸Ð·Ð½Ð¸ Ñ‚Ð¾ÐºÐµÐ½Ð¾Ð²

```bash
# Ð’ .env
ACCESS_TOKEN_EXPIRE_MINUTES=30    # 30 Ð¼Ð¸Ð½ÑƒÑ‚
REFRESH_TOKEN_EXPIRE_DAYS=7       # 7 Ð´Ð½ÐµÐ¹
```

**Ð”Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸:**
- ÐœÐ¾Ð¶Ð½Ð¾ ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ð´Ð»Ñ ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð°: `ACCESS_TOKEN_EXPIRE_MINUTES=1440` (24 Ñ‡Ð°ÑÐ°)

**Ð”Ð»Ñ production:**
- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾Ðµ Ð²Ñ€ÐµÐ¼Ñ: `ACCESS_TOKEN_EXPIRE_MINUTES=15-30`
- Ð ÐµÐ°Ð»Ð¸Ð·ÑƒÐ¹ refresh Ñ‚Ð¾ÐºÐµÐ½Ñ‹

###  Ð’Ð°Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾ Ñ€Ð°Ð·Ð½Ñ‹Ðµ SECRET_KEY

**Ð•ÑÐ»Ð¸ Ñƒ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð² Ñ€Ð°Ð·Ð½Ñ‹Ðµ ÐºÐ»ÑŽÑ‡Ð¸:**
- Ð¢Ð¾ÐºÐµÐ½ ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð½Ð° Ð¼Ð°ÑˆÐ¸Ð½Ðµ ÐÑ€Ñ‚ÑƒÑ€Ð° Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð½Ð° Ð¼Ð°ÑˆÐ¸Ð½Ðµ Ð¡ÐµÑ€Ð³ÐµÑ
- **Ð­Ñ‚Ð¾ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾!** ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð² ÑÐ²Ð¾ÐµÐ¹ Ð¸Ð·Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¹ ÑÑ€ÐµÐ´Ðµ
- ÐÐ° production Ð±ÑƒÐ´ÐµÑ‚ ÐµÐ´Ð¸Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ â†’ Ð²ÑÐµ Ñ‚Ð¾ÐºÐµÐ½Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚

**Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð° Ð¾Ð±Ñ‰Ð°Ñ dev ÑÑ€ÐµÐ´Ð°:**
- ÐœÐ¾Ð¶Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¾Ð±Ñ‰Ð¸Ð¹ dev SECRET_KEY
- ÐŸÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· Ð·Ð°Ñ‰Ð¸Ñ‰Ñ‘Ð½Ð½Ñ‹Ð¹ ÐºÐ°Ð½Ð°Ð» (1Password, LastPass)
- ÐÐž ÑÑ‚Ð¾ ÐÐ• production ÐºÐ»ÑŽÑ‡!

---

##  Ð§Ñ‚Ð¾ Ð´ÐµÐ»Ð°Ñ‚ÑŒ ÐµÑÐ»Ð¸ ÑÐµÐºÑ€ÐµÑ‚ ÑƒÑ‚Ñ‘Ðº

### Ð•ÑÐ»Ð¸ SECRET_KEY Ð¿Ð¾Ð¿Ð°Ð» Ð² Git

```bash
# 1. ÐÐ•ÐœÐ•Ð”Ð›Ð•ÐÐÐž ÑÐ³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐ¹ Ð½Ð¾Ð²Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡
python -c "import secrets; print(secrets.token_urlsafe(32))"

# 2. ÐžÐ±Ð½Ð¾Ð²Ð¸ .env Ñ Ð½Ð¾Ð²Ñ‹Ð¼ ÐºÐ»ÑŽÑ‡Ð¾Ð¼
nano .env

# 3. Ð•ÑÐ»Ð¸ ÑƒÐ¶Ðµ Ð·Ð°ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¸Ð» - ÑƒÐ´Ð°Ð»Ð¸ Ð¸Ð· Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸
#  Ð’ÐÐ˜ÐœÐÐÐ˜Ð•: Ð­Ñ‚Ð¾ Ð¿ÐµÑ€ÐµÐ¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ!
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch .env" \
  --prune-empty --tag-name-filter cat -- --all

# 4. Force push (ÐžÐ¡Ð¢ÐžÐ ÐžÐ–ÐÐž!)
git push origin --force --all

# 5. Ð¡Ð¾Ð¾Ð±Ñ‰Ð¸ ÐºÐ¾Ð¼Ð°Ð½Ð´Ðµ Ñ‡Ñ‚Ð¾ Ð¾Ð½Ð¸ Ð´Ð¾Ð»Ð¶Ð½Ñ‹:
#    - git pull --rebase
#    - ÐŸÐµÑ€ÐµÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¹ .env
```

### Ð•ÑÐ»Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð‘Ð” ÑƒÑ‚Ñ‘Ðº

```bash
# 1. ÐÐµÐ¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾ ÑÐ¼ÐµÐ½Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð² Ð‘Ð”
ALTER USER postgres PASSWORD 'Ð½Ð¾Ð²Ñ‹Ð¹-Ð¿Ð°Ñ€Ð¾Ð»ÑŒ';

# 2. ÐžÐ±Ð½Ð¾Ð²Ð¸ .env
# 3. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ
```

### Ð•ÑÐ»Ð¸ Ñ‚Ð¾ÐºÐµÐ½ API ÑƒÑ‚Ñ‘Ðº

```bash
# 1. ÐžÑ‚Ð·Ð¾Ð²Ð¸ ÑÑ‚Ð°Ñ€Ñ‹Ð¹ Ñ‚Ð¾ÐºÐµÐ½ Ð² ÑÐµÑ€Ð²Ð¸ÑÐµ
# 2. Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐ¹ Ð½Ð¾Ð²Ñ‹Ð¹
# 3. ÐžÐ±Ð½Ð¾Ð²Ð¸ .env
# 4. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ
```

---

##  Ð§ÐµÐºÐ»Ð¸ÑÑ‚ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸

### ÐŸÐµÑ€ÐµÐ´ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð¼:

- [ ] `.env` Ð½Ðµ Ð² ÑÐ¿Ð¸ÑÐºÐµ `git status`
- [ ] `.gitignore` ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ `.env*`
- [ ] ÐÐµÑ‚ Ñ…Ð°Ñ€Ð´ÐºÐ¾Ð¶ÐµÐ½Ð½Ñ‹Ñ… Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¹ Ð² ÐºÐ¾Ð´Ðµ
- [ ] ÐÐµÑ‚ API ÐºÐ»ÑŽÑ‡ÐµÐ¹ Ð² ÐºÐ¾Ð´Ðµ
- [ ] `.env.example` Ð½Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ñ… ÑÐµÐºÑ€ÐµÑ‚Ð¾Ð²

### ÐŸÐµÑ€ÐµÐ´ Ð´ÐµÐ¿Ð»Ð¾ÐµÐ¼ Ð½Ð° production:

- [ ] Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ð½Ð¾Ð²Ñ‹Ð¹ production SECRET_KEY
- [ ] Ð¡Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð‘Ð” (30+ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²)
- [ ] DEBUG=False
- [ ] CORS Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð½Ð° Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð¾Ð¼ÐµÐ½Ñ‹
- [ ] Ð¢Ð¾ÐºÐµÐ½Ñ‹ Ð¸Ð¼ÐµÑŽÑ‚ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð¶Ð¸Ð·Ð½Ð¸
- [ ] HTTPS Ð²ÐºÐ»ÑŽÑ‡Ñ‘Ð½
- [ ] Firewall Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½

### Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ð¾:

- [ ] Ð Ð¾Ñ‚Ð°Ñ†Ð¸Ñ SECRET_KEY (Ñ€Ð°Ð· Ð² 3-6 Ð¼ÐµÑÑÑ†ÐµÐ²)
- [ ] Ð¡Ð¼ÐµÐ½Ð° Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¹ Ð‘Ð” (Ñ€Ð°Ð· Ð² 6 Ð¼ÐµÑÑÑ†ÐµÐ²)
- [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð»Ð¾Ð³Ð¾Ð² Ð½Ð° Ð¿Ð¾Ð´Ð¾Ð·Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½ÑƒÑŽ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ
- [ ] ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹ (`pip list --outdated`)

---

##  Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÑÑƒÑ€ÑÑ‹

### OWASP Top 10

Ð˜Ð·ÑƒÑ‡Ð¸ ÑÐ°Ð¼Ñ‹Ðµ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½Ñ‘Ð½Ð½Ñ‹Ðµ ÑƒÑÐ·Ð²Ð¸Ð¼Ð¾ÑÑ‚Ð¸:
- https://owasp.org/www-project-top-ten/

### FastAPI Security

ÐžÑ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð¿Ð¾ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸:
- https://fastapi.tiangolo.com/tutorial/security/

### Twelve-Factor App

ÐœÐµÑ‚Ð¾Ð´Ð¾Ð»Ð¾Ð³Ð¸Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹:
- https://12factor.net/

---

## ðŸ“ž ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹

**Ð’Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¿Ð¾ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸:**

- Ð¢Ð¸Ð¼Ð»Ð¸Ð´: ÐÑ€Ñ‚ÑƒÑ€ Ð®ÑÑƒÐ¿Ð¾Ð²
- GitHub: @AsyncAssassin
- Telegram: @aiusupov

**ÐÐ°ÑˆÐ»Ð¸ ÑƒÑÐ·Ð²Ð¸Ð¼Ð¾ÑÑ‚ÑŒ?**

ÐÐ°Ð¿Ð¸ÑˆÐ¸ Ð² Ð»Ð¸Ñ‡ÐºÑƒ Ñ‚Ð¸Ð¼Ð»Ð¸Ð´Ñƒ, ÐÐ• ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ð¹ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ issue!

---

##  Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹

- **2025-11-16**: Ð¡Ð¾Ð·Ð´Ð°Ð½ SECURITY.md
- **TODO**: Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ rate limiting
- **TODO**: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ automated security scanning

---

** Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ - ÑÑ‚Ð¾ Ð½Ðµ Ð¾Ð´Ð½Ð¾Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ Ð·Ð°Ð´Ð°Ñ‡Ð°, Ð° Ð¿Ð¾ÑÑ‚Ð¾ÑÐ½Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ!**